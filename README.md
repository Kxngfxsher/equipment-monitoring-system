# Автоматизированная система контроля оборудования и смен

## Описание проекта

Система для контроля исправности оборудования и управления сменами инженеров с функционалом:
- Управление пользователями (инженеры и администраторы)
- Изменение расписания смен администратором
- Формирование отчётов инженерами (текст и голосовые записи)
- Локальный сервер развертывания
- Кроссплатформенность (веб-интерфейс)

## Технологический стек

### Backend
- **Node.js** с Express.js
- **SQLite** - база данных
- **JWT** - аутентификация
- **Multer** - загрузка файлов/аудио

### Frontend
- **HTML/CSS/JavaScript**
- **Bootstrap** - UI фреймворк
- **Web Audio API** - запись с микрофона

## Структура проекта

```
equipment-monitoring-system/
├── backend/
│   ├── server.js           # Основной сервер
│   ├── package.json        # Зависимости
│   ├── database.sql        # Схема БД
│   ├── routes/             # API маршруты
│   └── uploads/            # Аудио записи
├── frontend/
│   ├── index.html          # Главная страница
│   ├── login.html          # Страница входа
│   ├── css/
│   └── js/
└── docker-compose.yml      # Контейнеризация
```

## Установка и запуск

### Требования
- Node.js >= 16.x
- npm или yarn

### Шаги установки

1. Клонируйте репозиторий:
```bash
git clone https://github.com/Kxngfxsher/equipment-monitoring-system.git
cd equipment-monitoring-system
```

2. Установите зависимости backend:
```bash
cd backend
npm install
```

3. Инициализируйте базу данных:
```bash
node init-database.js
```

4. Запустите сервер:
```bash
node server.js
```

5. Откройте браузер:
```
http://localhost:3000
```

### С использованием Docker

```bash
docker-compose up -d
```

## Использование

### Учетные записи по умолчанию

**Администратор:**
- Логин: `admin`
- Пароль: `admin123`

**Инженер (тестовый):**
- Логин: `engineer1`
- Пароль: `eng123`

### Функции администратора
- Управление расписанием смен
- Просмотр всех отчётов
- Управление пользователями

### Функции инженера
- Просмотр своего расписания
- Создание отчётов (текстовых)
- Запись голосовых отчётов
- Просмотр истории своих отчётов

## API Endpoints

### Аутентификация
- `POST /api/auth/login` - Вход в систему
- `POST /api/auth/logout` - Выход

### Смены
- `GET /api/shifts` - Получить расписание
- `POST /api/shifts` - Создать смену (администратор)
- `PUT /api/shifts/:id` - Изменить смену (администратор)
- `DELETE /api/shifts/:id` - Удалить смену (администратор)

### Отчёты
- `GET /api/reports` - Получить отчёты
- `POST /api/reports` - Создать отчёт
- `POST /api/reports/audio` - Загрузить аудио отчёт

## Безопасность

- Все пароли хешируются с помощью bcrypt
- JWT токены для авторизации
- Разделение прав доступа по ролям
- HTTPS рекомендуется для продакшена

## Разработка

Для разработки запустите сервер в режиме отладки:

```bash
DEBUG=true node server.js
```

## Лицензия

MIT License

## Контакты

Автор: [Kxngfxsher](https://github.com/Kxngfxsher)
